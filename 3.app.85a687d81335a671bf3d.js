(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{100:function(e,t,n){"use strict";(function(e){t.a={data:function(){return{snippets:[n(133).default,n(134).default,n(135).default,n(136).default]}},mounted:function(){e.highlightAll()}}}).call(this,n(99))},133:function(e,t,n){"use strict";n.r(t),t.default="s1 = [{x: 1, y: 10}, {x: 3, y: 10}, {x: 3, y: 8}, {x: 1, y: 8}]\ns2 = [{x: 2, y: 9}, {x: 4, y: 7}, {x: 2, y: 7}]"},134:function(e,t,n){"use strict";n.r(t),t.default="MD(s1, s2):\n  s3 = []\n  for p1 in s1:\n    for p2 in s2:\n      s3.push(p1 - p2)\n\n  return s3"},135:function(e,t,n){"use strict";n.r(t),t.default="MD(s1, s2) => [\n  {x: -1, y: 1}, {x: -3, y: 3}, {x: -1, y: 3},\n  {x: 1, y: 1}, {x: -1, y: 3}, {x: 1, y: 3},\n  {x: 1, y: -1}, {x: -1, y: 1}, {x: 1, y: 1},\n  {x: -1, y: -1}, {x: -3, y: 1}, {x: -1, y: 1}\n]"},136:function(e,t,n){"use strict";n.r(t),t.default="function wrap(points) {\n  const hull = []\n\n  let current = {x: Infinity}\n  for (const p of points) {\n    if (p.x < current.x) current = p\n  }\n\n  let i = 0, end\n\n  while (true) {\n    hull[i] = current\n    end = points[0]\n\n    for (let j = 1; j < points.length; j++) {\n      if ((end.x === current.x && end.y === current.y) ||\n        inline(points[j], hull[i], end) > 0) {\n        end = points[j]\n      }\n    }\n    i += 1\n    current = end\n\n    if (end.x === hull[0].x && end.y === hull[0].y) break\n  }\n  return hull\n}"},85:function(e,t,n){"use strict";n.r(t);var a=n(100).a,s=n(92),i=Object(s.a)(a,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{staticClass:"page"},[n("article",[n("h1",[e._v("碰撞检测 - GJK(1)")]),e._m(0),n("h3",[e._v("楔子")]),n("blockquote",[e._v("《花里胡哨的前端》第二期，来聊聊碰撞的二三事。")]),n("p",[e._v("现实世界里我们对于是否碰撞的判断可以说极其容易而且准确，比如下图。在二进制的世界里，一切就没这么直观了。")]),n("img",{attrs:{src:"static/images/collisionDetection/gjk/1.jpg",alt:""}}),n("h3",[e._v("GJK(Gilbert-Johnson-Keerthi Distance Algorithm)")]),e._m(1),e._m(2),e._m(3),e._m(4),e._m(5),n("img",{attrs:{src:"static/images/collisionDetection/gjk/2.png",alt:""}}),n("h3",[e._v("Minkowski Difference")]),e._m(6),e._m(7),n("p",[e._v("假设有两个凸多边形：")]),n("pre",[n("code",{staticClass:"lang-js",domProps:{textContent:e._s(e.snippets[0])}})]),n("p",[e._v("那么它们的位置看起应该像下图这样。")]),n("img",{attrs:{src:"static/images/collisionDetection/gjk/3.png",alt:""}}),e._m(8),n("pre",[n("code",{staticClass:"lang-js",domProps:{textContent:e._s(e.snippets[1])}})]),n("pre",[n("code",{staticClass:"lang-js",domProps:{textContent:e._s(e.snippets[2])}})]),n("p",[e._v("这些点的布局如下图所示：")]),n("img",{attrs:{src:"static/images/collisionDetection/gjk/4.png",alt:""}}),e._m(9),e._m(10),n("img",{attrs:{src:"static/images/collisionDetection/gjk/5.png",alt:""}}),e._m(11),e._m(12),n("p",[e._v("有没有觉得很简单？对，原理就是这么简单。")]),e._m(13),n("pre",[n("code",{staticClass:"lang-js",domProps:{textContent:e._s(e.snippets[3])}})]),e._m(14),e._m(15),n("h3",[e._v("交互示例")]),n("iframe",{attrs:{src:"/#/collisionDetection/GJK/1/demo",frameborder:"0"}}),n("h3",[e._v("思考")]),e._m(16),e._m(17),n("p",[e._v("怎么优化这个实现呢？")]),e._m(18),n("img",{attrs:{src:"static/images/collisionDetection/gjk/6.png",alt:""}}),n("p",[e._v("我们只需要尽早的从已知的条件里判断出是否包含原点即可。")]),n("p",[e._v("比如：如果获取到的第一个点刚好是原点，说明相交停止循环，否则继续获取下一个点，如果原点在两点的连线上，说明相交停止循环，否则继续获取下一个点。")]),e._m(19),n("p",[e._v("感兴趣的小伙伴也可以从下面的参考资料里先尝试一波。")]),n("h3",[e._v("参考资料")]),e._m(20),n("img",{staticClass:"qr",attrs:{src:"/static/images/qr.jpg",alt:""}})])])}),[function(){var e=this.$createElement,t=this._self._c||e;return t("p",[this._v("作者："),t("a",{attrs:{href:"https://github.com/JetLua"}},[this._v("JetLu")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[t("code",[this._v("GJK")]),this._v(" 就是此次要实现的碰撞检测算法。如果对碰撞算法有过了解的话，大概率听过另一个碰撞检测算法 "),t("code",[this._v("SAT(Separating Axis Theorem)。")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[t("code",[this._v("GJK")]),this._v(" 相较于 "),t("code",[this._v("SAT")]),this._v(" 有什么优点吗？")])},function(){var e=this.$createElement,t=this._self._c||e;return t("ul",[t("li",[t("strong",[this._v("快")])]),t("li",[t("strong",[this._v("简单")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[this._v("实际上就我目前了解的碰撞检测算法，应用对象都是"),t("strong",[this._v("凸多边形")]),this._v("("),t("code",[this._v("Convex polygon")]),this._v(")。如果不是凸多边形，问题也不大，可以事先分割。")])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[this._v("游戏里对于不规则物体，我们通常都是借助工具生成顶点数据。此时生成的数据通常都是处理过的(凹多边形被分解)，如果你想了解更多关于凹多边形分解的知识，可以参考这两个库："),t("a",{attrs:{href:"https://github.com/schteppe/poly-decomp.js"}},[this._v("poly-decomp.js")]),this._v("，"),t("a",{attrs:{href:"https://github.com/mapbox/earcut"}},[this._v("earcut")]),this._v("。")])},function(){var e=this.$createElement,t=this._self._c||e;return t("blockquote",[this._v("由于不知道 "),t("code",[this._v("Min")]),this._v(" 到底是“明”还是“闵”，所以下面都用 "),t("code",[this._v("MD")]),this._v(" 表示了。")])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[t("code",[this._v("MD")]),this._v(" 是 "),t("code",[this._v("GJK")]),this._v(" 算法的理论基础。那么到底什么是 "),t("code",[this._v("MD")]),this._v(" ？")])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[t("code",[this._v("MD")]),this._v(" 就是 "),t("code",[this._v("s1")]),this._v(" 与 "),t("code",[this._v("s2")]),this._v(" 所有点的差形成的集合。")])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[this._v("关键的地方来了。首先要介绍一个新的概念叫 "),t("code",[this._v("Convex Hull")]),this._v("。")])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[t("code",[this._v("Convex hull")]),this._v(" 是包含点集的最小凸多边形。拿上面的例子来说：")])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[t("strong",[this._v("铺垫了这么久，现在可以说结论了。")])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("p",[e._v("我们把 "),n("code",[e._v("s1 - s2")]),e._v(" 点集形成的 "),n("code",[e._v("Convex hull")]),e._v(" 命名为 "),n("code",[e._v("s3")]),e._v("。"),n("strong",[e._v("如果 "),n("code",[e._v("s3")]),e._v(" 包含点 "),n("code",[e._v("(0, 0)")]),e._v("，那么 "),n("code",[e._v("s1")]),e._v(" 和 "),n("code",[e._v("s2")]),e._v(" 发生碰撞")]),e._v("。")])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[this._v("至于怎么算出点集的 "),t("code",[this._v("Convex hull")]),this._v("，翻译自"),t("a",{attrs:{href:"https://en.wikipedia.org/wiki/Gift_wrapping_algorithm"}},[this._v("维基百科")]),this._v("的 "),t("code",[this._v("Gift wrapping algorithm")]),this._v(" 。")])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[t("code",[this._v("Gift wrapping algorithm")]),this._v(" 是获取 "),t("code",[this._v("Convex hull")]),this._v(" 的一种算法，不是效率最高的但应该是最易懂的。")])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[this._v("最后就是判断点是否在多边形内的算法了，可以看我之前的"),t("a",{attrs:{href:"https://mp.weixin.qq.com/s?__biz=MzA5MTg4MTY0MQ==&mid=2651494185&idx=1&sn=0f944a60ccd212a0b125207eb0e32187"}},[this._v("文章")]),this._v("。")])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[this._v("有小伙伴不禁要问：这样的嵌套循环真的比 "),t("code",[this._v("SAT")]),this._v(" 快？确实，上面的实现并不是真正意义上的 "),t("code",[this._v("GJK")]),this._v(" 算法。但是核心思想是一样的：")])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[t("strong",[this._v("如果两个凸多边形的 "),t("code",[this._v("Minkowski Difference")]),this._v(" 所形成的 "),t("code",[this._v("Convex hull")]),this._v(" 包含点 "),t("code",[this._v("(0, 0)")]),this._v("，那么这两个凸多边形相交。")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[this._v("我们并不需要计算两个凸多边形所有点的 "),t("code",[this._v("Minkowski Difference")]),this._v("。还是文章开始的例子：")])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[this._v("真正的 "),t("code",[this._v("GJK")]),this._v(" 算法用了一个很取巧的方式来减少循环次数，而且效果很理想。当然这也是下篇文章里的内容了。")])},function(){var e=this.$createElement,t=this._self._c||e;return t("ul",[t("li",[t("a",{attrs:{href:"https://blog.hamaluik.ca/posts/building-a-collision-engine-part-1-2d-gjk-collision-detection/"}},[this._v("https://blog.hamaluik.ca/posts/building-a-collision-engine-part-1-2d-gjk-collision-detection/")])]),t("li",[t("a",{attrs:{href:"http://www.dyn4j.org/2010/04/gjk-gilbert-johnson-keerthi/"}},[this._v("http://www.dyn4j.org/2010/04/gjk-gilbert-johnson-keerthi/")])]),t("li",[t("a",{attrs:{href:"https://cse442-17f.github.io/Gilbert-Johnson-Keerthi-Distance-Algorithm/"}},[this._v("https://cse442-17f.github.io/Gilbert-Johnson-Keerthi-Distance-Algorithm/")])])])}],!1,null,"1b06eae1",null);t.default=i.exports},92:function(e,t,n){"use strict";function a(e,t,n,a,s,i,r,o){var l,c="function"==typeof e?e.options:e;if(t&&(c.render=t,c.staticRenderFns=n,c._compiled=!0),a&&(c.functional=!0),i&&(c._scopeId="data-v-"+i),r?(l=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),s&&s.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(r)},c._ssrRegister=l):s&&(l=o?function(){s.call(this,this.$root.$options.shadowRoot)}:s),l)if(c.functional){c._injectStyles=l;var u=c.render;c.render=function(e,t){return l.call(t),u(e,t)}}else{var h=c.beforeCreate;c.beforeCreate=h?[].concat(h,l):[l]}return{exports:e,options:c}}n.d(t,"a",(function(){return a}))},99:function(e,t,n){(function(t){var n=function(e){var t=/\blang(?:uage)?-([\w-]+)\b/i,n=0,a={manual:e.Prism&&e.Prism.manual,disableWorkerMessageHandler:e.Prism&&e.Prism.disableWorkerMessageHandler,util:{encode:function(e){return e instanceof s?new s(e.type,a.util.encode(e.content),e.alias):Array.isArray(e)?e.map(a.util.encode):e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(e){return Object.prototype.toString.call(e).slice(8,-1)},objId:function(e){return e.__id||Object.defineProperty(e,"__id",{value:++n}),e.__id},clone:function e(t,n){var s,i,r=a.util.type(t);switch(n=n||{},r){case"Object":if(i=a.util.objId(t),n[i])return n[i];for(var o in s={},n[i]=s,t)t.hasOwnProperty(o)&&(s[o]=e(t[o],n));return s;case"Array":return i=a.util.objId(t),n[i]?n[i]:(s=[],n[i]=s,t.forEach((function(t,a){s[a]=e(t,n)})),s);default:return t}}},languages:{extend:function(e,t){var n=a.util.clone(a.languages[e]);for(var s in t)n[s]=t[s];return n},insertBefore:function(e,t,n,s){var i=(s=s||a.languages)[e],r={};for(var o in i)if(i.hasOwnProperty(o)){if(o==t)for(var l in n)n.hasOwnProperty(l)&&(r[l]=n[l]);n.hasOwnProperty(o)||(r[o]=i[o])}var c=s[e];return s[e]=r,a.languages.DFS(a.languages,(function(t,n){n===c&&t!=e&&(this[t]=r)})),r},DFS:function e(t,n,s,i){i=i||{};var r=a.util.objId;for(var o in t)if(t.hasOwnProperty(o)){n.call(t,o,t[o],s||o);var l=t[o],c=a.util.type(l);"Object"!==c||i[r(l)]?"Array"!==c||i[r(l)]||(i[r(l)]=!0,e(l,n,o,i)):(i[r(l)]=!0,e(l,n,null,i))}}},plugins:{},highlightAll:function(e,t){a.highlightAllUnder(document,e,t)},highlightAllUnder:function(e,t,n){var s={callback:n,selector:'code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'};a.hooks.run("before-highlightall",s);for(var i,r=e.querySelectorAll(s.selector),o=0;i=r[o++];)a.highlightElement(i,!0===t,s.callback)},highlightElement:function(n,s,i){for(var r,o="none",l=n;l&&!t.test(l.className);)l=l.parentNode;l&&(o=(l.className.match(t)||[,"none"])[1].toLowerCase(),r=a.languages[o]),n.className=n.className.replace(t,"").replace(/\s+/g," ")+" language-"+o,n.parentNode&&(l=n.parentNode,/pre/i.test(l.nodeName)&&(l.className=l.className.replace(t,"").replace(/\s+/g," ")+" language-"+o));var c={element:n,language:o,grammar:r,code:n.textContent},u=function(e){c.highlightedCode=e,a.hooks.run("before-insert",c),c.element.innerHTML=c.highlightedCode,a.hooks.run("after-highlight",c),a.hooks.run("complete",c),i&&i.call(c.element)};if(a.hooks.run("before-sanity-check",c),c.code)if(a.hooks.run("before-highlight",c),c.grammar)if(s&&e.Worker){var h=new Worker(a.filename);h.onmessage=function(e){u(e.data)},h.postMessage(JSON.stringify({language:c.language,code:c.code,immediateClose:!0}))}else u(a.highlight(c.code,c.grammar,c.language));else u(a.util.encode(c.code));else a.hooks.run("complete",c)},highlight:function(e,t,n){var i={code:e,grammar:t,language:n};return a.hooks.run("before-tokenize",i),i.tokens=a.tokenize(i.code,i.grammar),a.hooks.run("after-tokenize",i),s.stringify(a.util.encode(i.tokens),i.language)},matchGrammar:function(e,t,n,i,r,o,l){for(var c in n)if(n.hasOwnProperty(c)&&n[c]){if(c==l)return;var u=n[c];u="Array"===a.util.type(u)?u:[u];for(var h=0;h<u.length;++h){var d=u[h],g=d.inside,p=!!d.lookbehind,f=!!d.greedy,v=0,_=d.alias;if(f&&!d.pattern.global){var m=d.pattern.toString().match(/[imuy]*$/)[0];d.pattern=RegExp(d.pattern.source,m+"g")}d=d.pattern||d;for(var y=i,b=r;y<t.length;b+=t[y].length,++y){var x=t[y];if(t.length>e.length)return;if(!(x instanceof s)){if(f&&y!=t.length-1){if(d.lastIndex=b,!(j=d.exec(e)))break;for(var k=j.index+(p?j[1].length:0),w=j.index+j[0].length,F=y,A=b,$=t.length;F<$&&(A<w||!t[F].type&&!t[F-1].greedy);++F)k>=(A+=t[F].length)&&(++y,b=A);if(t[y]instanceof s)continue;E=F-y,x=e.slice(b,A),j.index-=b}else{d.lastIndex=0;var j=d.exec(x),E=1}if(j){p&&(v=j[1]?j[1].length:0);w=(k=j.index+v)+(j=j[0].slice(v)).length;var C=x.slice(0,k),S=x.slice(w),D=[y,E];C&&(++y,b+=C.length,D.push(C));var T=new s(c,g?a.tokenize(j,g):j,_,j,f);if(D.push(T),S&&D.push(S),Array.prototype.splice.apply(t,D),1!=E&&a.matchGrammar(e,t,n,y,b,!0,c),o)break}else if(o)break}}}}},tokenize:function(e,t){var n=[e],s=t.rest;if(s){for(var i in s)t[i]=s[i];delete t.rest}return a.matchGrammar(e,n,t,0,0,!1),n},hooks:{all:{},add:function(e,t){var n=a.hooks.all;n[e]=n[e]||[],n[e].push(t)},run:function(e,t){var n=a.hooks.all[e];if(n&&n.length)for(var s,i=0;s=n[i++];)s(t)}},Token:s};function s(e,t,n,a,s){this.type=e,this.content=t,this.alias=n,this.length=0|(a||"").length,this.greedy=!!s}if(e.Prism=a,s.stringify=function(e,t){if("string"==typeof e)return e;if(Array.isArray(e))return e.map((function(e){return s.stringify(e,t)})).join("");var n={type:e.type,content:s.stringify(e.content,t),tag:"span",classes:["token",e.type],attributes:{},language:t};if(e.alias){var i=Array.isArray(e.alias)?e.alias:[e.alias];Array.prototype.push.apply(n.classes,i)}a.hooks.run("wrap",n);var r=Object.keys(n.attributes).map((function(e){return e+'="'+(n.attributes[e]||"").replace(/"/g,"&quot;")+'"'})).join(" ");return"<"+n.tag+' class="'+n.classes.join(" ")+'"'+(r?" "+r:"")+">"+n.content+"</"+n.tag+">"},!e.document)return e.addEventListener?(a.disableWorkerMessageHandler||e.addEventListener("message",(function(t){var n=JSON.parse(t.data),s=n.language,i=n.code,r=n.immediateClose;e.postMessage(a.highlight(i,a.languages[s],s)),r&&e.close()}),!1),a):a;var i=document.currentScript||[].slice.call(document.getElementsByTagName("script")).pop();return i&&(a.filename=i.src,a.manual||i.hasAttribute("data-manual")||("loading"!==document.readyState?window.requestAnimationFrame?window.requestAnimationFrame(a.highlightAll):window.setTimeout(a.highlightAll,16):document.addEventListener("DOMContentLoaded",a.highlightAll))),a}("undefined"!=typeof window?window:"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope?self:{});e.exports&&(e.exports=n),void 0!==t&&(t.Prism=n),n.languages.markup={comment:/<!--[\s\S]*?-->/,prolog:/<\?[\s\S]+?\?>/,doctype:/<!DOCTYPE[\s\S]+?>/i,cdata:/<!\[CDATA\[[\s\S]*?]]>/i,tag:{pattern:/<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?=[\s/>])))+)?\s*\/?>/i,greedy:!0,inside:{tag:{pattern:/^<\/?[^\s>\/]+/i,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/i,inside:{punctuation:[/^=/,{pattern:/^(\s*)["']|["']$/,lookbehind:!0}]}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:/&#?[\da-z]{1,8};/i},n.languages.markup.tag.inside["attr-value"].inside.entity=n.languages.markup.entity,n.hooks.add("wrap",(function(e){"entity"===e.type&&(e.attributes.title=e.content.replace(/&amp;/,"&"))})),Object.defineProperty(n.languages.markup.tag,"addInlined",{value:function(e,t){var a={};a["language-"+t]={pattern:/(^<!\[CDATA\[)[\s\S]+?(?=\]\]>$)/i,lookbehind:!0,inside:n.languages[t]},a.cdata=/^<!\[CDATA\[|\]\]>$/i;var s={"included-cdata":{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,inside:a}};s["language-"+t]={pattern:/[\s\S]+/,inside:n.languages[t]};var i={};i[e]={pattern:RegExp(/(<__[\s\S]*?>)(?:<!\[CDATA\[[\s\S]*?\]\]>\s*|[\s\S])*?(?=<\/__>)/.source.replace(/__/g,e),"i"),lookbehind:!0,greedy:!0,inside:s},n.languages.insertBefore("markup","cdata",i)}}),n.languages.xml=n.languages.extend("markup",{}),n.languages.html=n.languages.markup,n.languages.mathml=n.languages.markup,n.languages.svg=n.languages.markup,function(e){var t=/("|')(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/;e.languages.css={comment:/\/\*[\s\S]*?\*\//,atrule:{pattern:/@[\w-]+[\s\S]*?(?:;|(?=\s*\{))/,inside:{rule:/@[\w-]+/}},url:{pattern:RegExp("url\\((?:"+t.source+"|[^\n\r()]*)\\)","i"),inside:{function:/^url/i,punctuation:/^\(|\)$/}},selector:RegExp("[^{}\\s](?:[^{};\"']|"+t.source+")*?(?=\\s*\\{)"),string:{pattern:t,greedy:!0},property:/[-_a-z\xA0-\uFFFF][-\w\xA0-\uFFFF]*(?=\s*:)/i,important:/!important\b/i,function:/[-a-z0-9]+(?=\()/i,punctuation:/[(){};:,]/},e.languages.css.atrule.inside.rest=e.languages.css;var n=e.languages.markup;n&&(n.tag.addInlined("style","css"),e.languages.insertBefore("inside","attr-value",{"style-attr":{pattern:/\s*style=("|')(?:\\[\s\S]|(?!\1)[^\\])*\1/i,inside:{"attr-name":{pattern:/^\s*style/i,inside:n.tag.inside},punctuation:/^\s*=\s*['"]|['"]\s*$/,"attr-value":{pattern:/.+/i,inside:e.languages.css}},alias:"language-css"}},n.tag))}(n),n.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/((?:\b(?:class|interface|extends|implements|trait|instanceof|new)\s+)|(?:catch\s+\())[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:if|else|while|do|for|return|in|instanceof|function|new|try|throw|catch|finally|null|break|continue)\b/,boolean:/\b(?:true|false)\b/,function:/\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+\.?\d*|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/--?|\+\+?|!=?=?|<=?|>=?|==?=?|&&?|\|\|?|\?|\*|\/|~|\^|%/,punctuation:/[{}[\];(),.:]/},n.languages.javascript=n.languages.extend("clike",{"class-name":[n.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])[_$A-Z\xA0-\uFFFF][$\w\xA0-\uFFFF]*(?=\.(?:prototype|constructor))/,lookbehind:!0}],keyword:[{pattern:/((?:^|})\s*)(?:catch|finally)\b/,lookbehind:!0},{pattern:/(^|[^.])\b(?:as|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],number:/\b(?:(?:0[xX](?:[\dA-Fa-f](?:_[\dA-Fa-f])?)+|0[bB](?:[01](?:_[01])?)+|0[oO](?:[0-7](?:_[0-7])?)+)n?|(?:\d(?:_\d)?)+n|NaN|Infinity)\b|(?:\b(?:\d(?:_\d)?)+\.?(?:\d(?:_\d)?)*|\B\.(?:\d(?:_\d)?)+)(?:[Ee][+-]?(?:\d(?:_\d)?)+)?/,function:/#?[_$a-zA-Z\xA0-\uFFFF][$\w\xA0-\uFFFF]*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,operator:/-[-=]?|\+[+=]?|!=?=?|<<?=?|>>?>?=?|=(?:==?|>)?|&[&=]?|\|[|=]?|\*\*?=?|\/=?|~|\^=?|%=?|\?|\.{3}/}),n.languages.javascript["class-name"][0].pattern=/(\b(?:class|interface|extends|implements|instanceof|new)\s+)[\w.\\]+/,n.languages.insertBefore("javascript","keyword",{regex:{pattern:/((?:^|[^$\w\xA0-\uFFFF."'\])\s])\s*)\/(\[(?:[^\]\\\r\n]|\\.)*]|\\.|[^/\\\[\r\n])+\/[gimyus]{0,6}(?=\s*($|[\r\n,.;})\]]))/,lookbehind:!0,greedy:!0},"function-variable":{pattern:/#?[_$a-zA-Z\xA0-\uFFFF][$\w\xA0-\uFFFF]*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|[_$a-zA-Z\xA0-\uFFFF][$\w\xA0-\uFFFF]*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+[_$A-Za-z\xA0-\uFFFF][$\w\xA0-\uFFFF]*)?\s*\(\s*)(?!\s)(?:[^()]|\([^()]*\))+?(?=\s*\))/,lookbehind:!0,inside:n.languages.javascript},{pattern:/[_$a-z\xA0-\uFFFF][$\w\xA0-\uFFFF]*(?=\s*=>)/i,inside:n.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()]|\([^()]*\))+?(?=\s*\)\s*=>)/,lookbehind:!0,inside:n.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:[_$A-Za-z\xA0-\uFFFF][$\w\xA0-\uFFFF]*\s*)\(\s*)(?!\s)(?:[^()]|\([^()]*\))+?(?=\s*\)\s*\{)/,lookbehind:!0,inside:n.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/}),n.languages.insertBefore("javascript","string",{"template-string":{pattern:/`(?:\\[\s\S]|\${(?:[^{}]|{(?:[^{}]|{[^}]*})*})+}|(?!\${)[^\\`])*`/,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\${(?:[^{}]|{(?:[^{}]|{[^}]*})*})+}/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\${|}$/,alias:"punctuation"},rest:n.languages.javascript}},string:/[\s\S]+/}}}),n.languages.markup&&n.languages.markup.tag.addInlined("script","javascript"),n.languages.js=n.languages.javascript,"undefined"!=typeof self&&self.Prism&&self.document&&document.querySelector&&(self.Prism.fileHighlight=function(e){e=e||document;var t={js:"javascript",py:"python",rb:"ruby",ps1:"powershell",psm1:"powershell",sh:"bash",bat:"batch",h:"c",tex:"latex"};Array.prototype.slice.call(e.querySelectorAll("pre[data-src]")).forEach((function(e){if(!e.hasAttribute("data-src-loaded")){for(var a,s=e.getAttribute("data-src"),i=e,r=/\blang(?:uage)?-([\w-]+)\b/i;i&&!r.test(i.className);)i=i.parentNode;if(i&&(a=(e.className.match(r)||[,""])[1]),!a){var o=(s.match(/\.(\w+)$/)||[,""])[1];a=t[o]||o}var l=document.createElement("code");l.className="language-"+a,e.textContent="",l.textContent="Loading…",e.appendChild(l);var c=new XMLHttpRequest;c.open("GET",s,!0),c.onreadystatechange=function(){4==c.readyState&&(c.status<400&&c.responseText?(l.textContent=c.responseText,n.highlightElement(l),e.setAttribute("data-src-loaded","")):c.status>=400?l.textContent="✖ Error "+c.status+" while fetching file: "+c.statusText:l.textContent="✖ Error: File does not exist or is empty")},c.send(null)}})),n.plugins.toolbar&&n.plugins.toolbar.registerButton("download-file",(function(e){var t=e.element.parentNode;if(t&&/pre/i.test(t.nodeName)&&t.hasAttribute("data-src")&&t.hasAttribute("data-download-link")){var n=t.getAttribute("data-src"),a=document.createElement("a");return a.textContent=t.getAttribute("data-download-link-label")||"Download",a.setAttribute("download",""),a.href=n,a}}))},document.addEventListener("DOMContentLoaded",(function(){self.Prism.fileHighlight()})))}).call(this,n(9))}}]);